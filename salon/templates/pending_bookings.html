<!-- <!DOCTYPE html>
{% load static %}
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Snip Snap Luxury Salon</title>
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <link href="/static/images/logo.png" rel="icon">
        <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link href="/static/lib/animate/animate.min.css" rel="stylesheet">
        <link href="/static/lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
        <link href="/static/lib/flaticon/font/flaticon.css" rel="stylesheet">
        <link href="/static/lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />
        <link href="/static/css/admin2.css" rel="stylesheet">
    </head>

    <body>
        <nav class="navbar navbar-expand-lg bg-body-tertiary">
            <div class="container-fluid">
                <img src="/static/images/logo.png" alt="">
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse">
                <ul class="nav nav-tabs">
                  <li class="nav-item">
                    <a class="nav-link" href="{% url 'admin_panel' %}">Home</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" id="pending"  href="{% url 'pending_bookings' %}">Pending Bookings</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="{% url 'accepted_bookings' %}" >Accepted Bookings</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="{% url 'rejected_bookings' %}">Rejected Bookings</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="{% url 'contact_review' %}">Review</a>
                  </li>
                </ul>
              </div>
            </div>
          </nav>
          <a href="{% url 'admin_login' %}" id="logout"><i class="fa-solid fa-right-from-bracket"></i></a>
        <div class="row">
            <div class="col">
                <div class="col-md">
                    <div class="card text-center text-white mb-3" id="pending bookings">
                        <div class="card-header" id="pending">
                            <h5 class="card-title">
                                Total Bookings
                            </h5>
                        </div>
                        <table class="table">
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Phone</th>
                                <th>Date</th>
                                <th>Time</th>
                                <th>Stylist</th>
                                <th>Status</th>
                            </tr>
                            {% for i in pending %}
                            <tr>
                              <td>{{ i.name }}</td>
                              <td>{{ i.email }}</td>
                              <td>{{ i.phone }}</td>
                              <td>{{ i.date }}</td>
                              <td>{{ i.time }}</td>
                              <td>{{ i.stylist }}</td>
                              <td><button type="submit" id="yes">Accepted</button>
                              <button type="submit" id="no" >Rejected</button>
                              </td>
                            </tr>
                           {% endfor %}
                            
                        </table>
                    </div>
                </div>
            </div>
        </div>
        


    </body>
</html>
             -->



             <!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Snip Snap Luxury Salon</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <link href="/static/images/logo.png" rel="icon">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="/static/lib/animate/animate.min.css" rel="stylesheet">
    <link href="/static/lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="/static/lib/flaticon/font/flaticon.css" rel="stylesheet">
    <link href="/static/lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />
    <link href="/static/css/admin2.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
            <img src="/static/images/logo.png" alt="">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse">
                <ul class="nav nav-tabs">
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'admin_panel' %}">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" id="pending" href="{% url 'pending_bookings' %}">Pending Bookings</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'accepted_bookings' %}">Accepted Bookings</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'rejected_bookings' %}">Rejected Bookings</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'contact_review' %}">Review</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="row">
        <div class="col">
            <div class="col-md">
                <div class="card text-center text-white mb-3" id="pending bookings">
                    <div class="card-header" id="pending">
                        <h5 class="card-title">
                            Total Bookings
                        </h5>
                    </div>
                    <table class="table">
                        <tr>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Phone</th>
                            <th>Date</th>
                            <th>Time</th>
                            <th>Stylist</th>
                            <th>Status</th>
                        </tr>
                        {% for i in pending %}
                        <tr id="entry-{{ forloop.counter }}">
                            <td>{{ i.name }}</td>
                            <td>{{ i.email }}</td>
                            <td>{{ i.phone }}</td>
                            <td>{{ i.date }}</td>
                            <td>{{ i.time }}</td>
                            <td>{{ i.stylist }}</td>
                            <td>
                                <button type="button" id="yes" class="yes-button" data-id="{{ forloop.counter }}">Accept</button>
                                <button type="button" id="no" class="no-button" data-id="{{ forloop.counter }}">Reject</button>
                            </td>
                        </tr>
                        {% endfor %}
                    </table>
                </div>
            </div>
        </div>
    </div>
    <script>
        document.querySelectorAll('.yes-button').forEach(button => {
            button.addEventListener('click', function() {
                const entryId = this.getAttribute('data-id');


                const entry = document.getElementById('entry-' + entryId);

                const entryDetails = {
                    name: entry.cells[0].innerText,
                    email: entry.cells[1].innerText,
                    phone: entry.cells[2].innerText,
                    date: entry.cells[3].innerText,
                    time: entry.cells[4].innerText,
                    stylist: entry.cells[5].innerText
                };
                localStorage.setItem('entry', JSON.stringify(entryDetails));

                alert('Booking Accepted')
                entry.remove();

            });
        });

        document.querySelectorAll('.no-button').forEach(button => {
            button.addEventListener('click', function() {
                const entryId = this.getAttribute('data-id');


                const entry = document.getElementById('entry-' + entryId);

                const entryDetails = {
                    name: entry.cells[0].innerText,
                    email: entry.cells[1].innerText,
                    phone: entry.cells[2].innerText,
                    date: entry.cells[3].innerText,
                    time: entry.cells[4].innerText,
                    stylist: entry.cells[5].innerText
                };
                localStorage.setItem('entry', JSON.stringify(entryDetails));

                alert('Booking Rejected')
                entry.remove();

            });
        });
    </script>
</body>
</html>
